<mat-card>{{diseaseBranch.name}}
    <button mat-mini-fab color="primary" *jhiHasAnyAuthority="'ROLE_ADMIN'" (click)="openBranchBottomSheet()" class = "add">+</button>
    <button mat-raised-button (click) = "previousState()" class = "nav-back"><fa-icon [icon]="'arrow-left'"></fa-icon></button>
</mat-card>
<!-- <button mat-raised-button (click)="openBranchBottomSheet()">Open file</button> -->
<br>
<div class="container col-12">
    <mat-tree [dataSource]="dataSource" [treeControl]="treeControl" class="example-tree">
        <!-- This is the tree node template for leaf nodes -->
        <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle>
            <li class="mat-tree-node">

                <div>
                        <fa-icon [icon]="'circle'"></fa-icon>{{node.name}}
                        <button *jhiHasAnyAuthority="'ROLE_ADMIN'" mat-mini-fab color="primary" (click)="openMapBottomSheet(node)" class = "add">+</button>
                        <br>
                        <mat-nav-list>
                            <mat-list-item *ngFor="let diseaseXiAn of node.diseaseXiAns" [matTooltip]="diseaseXiAn.name" [routerLink]="['/disease-xi-an', diseaseXiAn.id, 'view']"><fa-icon [icon]="'eye'"></fa-icon>
                                 {{diseaseXiAn.name | trim: windowWidth}}
                            </mat-list-item>
                            <mat-list-item *ngFor="let qarobot of node.qarobots" [matTooltip]="qarobot.question"  [routerLink]="['/q-arobot', qarobot.id, 'view']"> <fa-icon [icon]="'question'"></fa-icon>{{qarobot.question | trim: windowWidth}}</mat-list-item>
                        </mat-nav-list>
                        <hr>
                </div>
            </li>
        </mat-tree-node>

        <!-- This is the tree node template for expandable nodes -->
        <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
            <li>
                <div>
                        <fa-icon [icon]="'circle'"></fa-icon>{{node.name}}
                        <button *jhiHasAnyAuthority="'ROLE_ADMIN'" mat-mini-fab color="primary" (click)="openMapBottomSheet(node)" class = "add">+</button>
                        <br>
                        <mat-nav-list>
                            <mat-list-item *ngFor="let diseaseXiAn of node.diseaseXiAns" [routerLink]="['/disease-xi-an', diseaseXiAn.id, 'view']"><fa-icon [icon]="'eye'"></fa-icon> {{diseaseXiAn.name}}</mat-list-item>
                            <mat-list-item *ngFor="let qarobot of node.qarobots" [routerLink]="['/q-arobot', qarobot.id, 'view']"> <fa-icon [icon]="'question'"></fa-icon>{{qarobot.question}}</mat-list-item>
                        </mat-nav-list>
                        <hr>
                </div>
                <ul [class.example-tree-invisible]="!treeControl.isExpanded(node)">
                    <ng-container matTreeNodeOutlet></ng-container>
                </ul>
            </li>
        </mat-nested-tree-node>
    </mat-tree>
</div>
